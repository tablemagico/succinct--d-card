<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Succinctlandia ID Card Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root{--succinct-pink:#ff00b8}

    /* ---- global ---- */
    html,body{
      margin:0;padding:0;
      font-family:'Montserrat',sans-serif;
      background:url('background.png') center/cover no-repeat fixed;
      color:#fff;display:flex;flex-direction:column;align-items:center;gap:2rem;min-height:100vh;
    }
    h1{margin-top:2rem;font-size:2rem}

    /* ---- card ---- */
    #card{position:relative;width:960px;height:540px;background:url('card-template.png') center/contain no-repeat;overflow:hidden}
    .field{position:absolute;font-weight:700;color:var(--succinct-pink);line-height:1.05;text-transform:capitalize;pointer-events:none;white-space:pre-wrap;max-width:240px}

    /* avatar frame (unchanged location) */
    .avatar{
      position:absolute;
      top:201px;   /* gri kutunun üst sınırı */
      left:190px;  /* gri kutu sola olan mesafe */
      width:178px; /* ==> avatar boyutunu buradan ayarlarsın */
      height:225px;/* <== oranı korumak istiyorsan ikisini de değiştir */
      object-fit:cover;
      border:4px solid var(--succinct-pink);
      border-radius:4px;
      
    }

    /* field coords */
    .name {top:190px; left:401px; font-size:20px}
    .role {top:190px; left:538px; font-size:20px}
    .stage{top:245px; left:401px; font-size:20px}
    .doj  {top:247px; left:538px; font-size:20px}
    .team {top:307px; left:401px; font-size:20px}
    .x    {top:307px; left:538px; font-size:20px}

    /* ---- control panel ---- */
    .panel{display:flex;flex-wrap:wrap;gap:1rem;align-items:flex-start;background:#222;padding:1.5rem 2rem;border-radius:12px;box-shadow:0 0 30px rgba(0,0,0,.3);width:min(95%,960px)}
    .panel label{display:flex;flex-direction:column;font-size:.9rem;gap:.3rem}
    .panel input[type="text"],.panel input[type="date"],.panel input[type="file"],.panel select{padding:.4rem .6rem;border:1px solid #555;border-radius:6px;background:#333;color:#fff;font-size:1rem;min-width:200px}
    button#download{padding:.6rem 1.2rem;font-size:1rem;font-weight:700;color:#fff;background:var(--succinct-pink);border:none;border-radius:6px;cursor:pointer;margin-left:auto}
    button#download:hover{opacity:.85}

    /* avatar picker row */
    .avatar-picker{display:flex;align-items:center;gap:.7rem;margin-top:.3rem;flex-wrap:wrap}
    .avatar-thumb{width:48px;height:48px;border-radius:4px;cursor:pointer;object-fit:cover;border:2px solid transparent}
    .avatar-thumb:hover{border-color:var(--succinct-pink)}
    .upload-inline{display:flex;flex-direction:column;font-size:.9rem}

    /* credits */
    .credits{color:#fff;font-size:.8rem;line-height:1.2;display:flex;flex-direction:column;margin-right:auto}
    .credits a{color:#1e90ff;text-decoration:underline}

    @media(max-width:1000px){#card{width:100%;height:auto}}
  </style>
</head>
<body>
  <h1>Succinctlandia ID Card Builder</h1>

  <!-- card preview -->
  <div id="card">
    <img id="avatar" class="avatar" alt="avatar" />
    <span class="field name"  id="f-name"  data-default="Your Name">Your&nbsp;Name</span>
    <span class="field role"  id="f-role"  data-default="Your Role">Your&nbsp;Role</span>
    <span class="field stage" id="f-stage" data-default="Stage">Stage</span>
    <span class="field doj"   id="f-doj"   data-default="YYYY-MM-DD">YYYY-MM-DD</span>
    <span class="field team"  id="f-team"  data-default="Team">Team</span>
    <span class="field x"     id="f-x"     data-default="X Account">X&nbsp;Account</span>
  </div>

  <!-- controls -->
  <form class="panel" id="controls" onsubmit="event.preventDefault()">
    <label>Name <input type="text" id="name" placeholder="e.g. Alice" maxlength="30" /></label>
    <label>Role <input type="text" id="role" placeholder="e.g. Builder" maxlength="30" /></label>
    <label>Stage <input type="text" id="stage" placeholder="e.g. Beta" maxlength="30" /></label>
    <label>Date of Join <input type="date" id="doj" /></label>

    <label>Team
      <select id="team" required>
        <option value="" selected disabled>Select team</option>
        <option>Pink Team</option>
        <option>Blue Team</option>
        <option>Green Team</option>
        <option>Purple Team</option>
        <option>Orange Team</option>
      </select>
    </label>

    <label>X <input type="text" id="x" placeholder="e.g. Proofer" maxlength="30" /></label>

    <!-- avatar select row -->
    <div class="avatar-picker">
      <span>Or choose:</span>
      <img src="avatar1.png" class="avatar-thumb" data-src="avatar1.png" alt="default 1" />
      <img src="avatar2.png" class="avatar-thumb" data-src="avatar2.png" alt="default 2" />
      <label class="upload-inline">Upload Photo <input type="file" id="avatarUpload" accept="image/*" /></label>
    </div>

    <!-- credits + download -->
    <div class="credits">
      Made By <a href="https://twitter.com/cryptoayax" target="_blank">X: cryptoayax</a>
      <a href="https://twitter.com/elliotyu" target="_blank">X: elliotyu</a>
      Discord: cryptoayax
      Discord: elliotyu
    </div>
    <button id="download">Download PNG</button>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script type="module">
    /* dynamic fields */
    const fieldMap = {name:'f-name', role:'f-role', stage:'f-stage', doj:'f-doj', team:'f-team', x:'f-x'};
    for (const [id, spanId] of Object.entries(fieldMap)){
      const el = document.getElementById(id);
      const out = document.getElementById(spanId);
      const handler = () => out.textContent = (el.value || el.options?.[el.selectedIndex]?.text || '').trim() || out.dataset.default;
      el.addEventListener(id==='team'?'change':'input', handler);
    }

    /* avatar */
    const avatar = document.getElementById('avatar');
    const setAvatar = src => { avatar.src = src; avatar.style.display='block'; };
    document.getElementById('avatarUpload').addEventListener('change', e => {
      const f = e.target.files?.[0]; if(!f) return;
      const r = new FileReader(); r.onload = ev => setAvatar(ev.target.result); r.readAsDataURL(f);
    });
    document.querySelectorAll('.avatar-thumb').forEach(img => img.addEventListener('click', () => setAvatar(img.dataset.src)));

    /* download */
    document.getElementById('download').addEventListener('click', async () => {
      const canvas = await html2canvas(document.getElementById('card'),{backgroundColor:null,useCORS:true,scale:2});
      const link = document.createElement('a'); link.download='succinctlandia_id_card.png'; link.href=canvas.toDataURL(); link.click();
    });
  </script>
</body>
</html>
